<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>日付ウィジェット</title>
</head>
<body>
  <h2 id="date"></h2>
  <h2 id="wareki"></h2>
  <h2 id="heisei"></h2>

  <script>
    const today = new Date();
    const y = today.getFullYear();
    const m = today.getMonth() + 1;
    const d = today.getDate();

    // 曜日を取得
    const weekday = ["日", "月", "火", "水", "木", "金", "土"];
    const dayOfWeek = weekday[today.getDay()];

    // 西暦の表示
    document.getElementById("date").textContent = `西暦: ${y}年${m}月${d}日（${dayOfWeek}）`;

    // 和暦の表示
    function getWareki(y, m, d, dayOfWeek) {
      if (y > 2019 || (y === 2019 && m >= 5)) {
        return `令和${y - 2018}年${m}月${d}日（${dayOfWeek}）`;
      } else if (y > 1989 || (y === 1989 && m >= 1)) {
        return `平成${y - 1988}年${m}月${d}日（${dayOfWeek}）`;
      } else if (y > 1926 || (y === 1926 && m >= 12)) {
        return `昭和${y - 1925}年${m}月${d}日（${dayOfWeek}）`;
      } else {
        return `不明`;
      }
    }

    document.getElementById("wareki").textContent = getWareki(y, m, d, dayOfWeek);

    // もし平成なら
    let heiseiText = "";
    if (y > 2019 || (y === 2019 && m >= 5)) {
      heiseiText = "平成は終わっています";
    } else {
      heiseiText = `平成${y - 1988}年`;
    }
    document.getElementById("heisei").textContent = `もし平成なら: ${heiseiText}`;
  </script>
</body>
</html>
